# 달콤로그

> 달콤로그는 빵, 케이크 등 빵을 좋아하는 사람들이 후기를 공유하고 소통할 수 있는 **베이커리 커뮤니티 앱**입니다.
<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/164f245e-f03c-47eb-9735-025f93101ba1 width=650 height=350>
<br>

## 프로젝트 개발 및 환경
- iOS 1인 개발
- 개발 기간: 3주 (2024.04.11 ~ 2024.05.05)
- 환경: 최소 버전 16.0 / 세로 모드 / 아이폰용
<br>


## 핵심 기능 
- **인증 |** 회원가입, 이메일 중복 확인, 로그인, 로그아웃, 탈퇴
- **후기, 판매 게시물 |** 작성, 조회, 수정, 삭제, 결제, 좋아요, 댓글 작성
- **태그 조회**
- **프로필 |** 프로필 조회, 게시물, 좋아요한 게시물 조회, 팔로우, 팔로잉, 결제 내역
- **지도 |** 베이커리 탐색, 상세 정보 조회, 리뷰 조회, 전화걸기
<br><br>

## 스크린샷
### 👩🏻‍💻 회원가입 • 로그인
|이메일 중복 체크|유효성 검사|회원가입|로그인|
|------|---|---|---|
|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/09d494ea-fa5f-430b-9f45-061e1cdedd6d width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/5d599cbb-5f2a-49f5-8850-407b0ffe6ae6 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/819037e4-c44d-41c8-aace-dc84398caf7f width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/dbacf62e-1269-4c93-bd24-fa99cc4e136b width=150 height=330>|



### 😃 프로필 • 설정 
|프로필 수정|게시물•좋아요|팔로우•팔로우취소|팔로우•팔로잉 화면|로그아웃|탈퇴|
|------|---|---|---|---|---|
|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/3bcf5a68-1a97-4efd-abf4-aee4d703cce7 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/df5a7125-df85-4d1a-be39-89c17b35ba2a width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/827a5be1-a6b6-46e5-a140-62e8042be740 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/53a54b00-5190-4381-91f3-a3d32edce21b width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/0e396da3-45f5-4a0a-ae7b-dde9f129c5e0 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/818f5ced-be96-47dc-b303-6c2bb9d21f87 width=150 height=330>|


### 🔍 후기 • 판매글
|커뮤니티(무한스크롤)|태그 검색|결제|장소 검색|무한 스크롤|후기 작성|새로고침|후기 수정|후기 삭제|좋아요|댓글 작성|댓글 삭제|위치 상세 화면|
|-----|---|---|---|---|---|---|---|---|---|---|---|---|
|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/35d331d8-fc56-4a8d-ba5d-855ec34034fa width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/fbf3d5d6-760b-4491-b128-8d451a201bea width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/224a00dd-341a-4e3e-8c80-c07c259600ec width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/38998dde-e23c-411e-8558-3d90930b3429 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/7af36695-af29-4cd5-874f-cbbb2877e489 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/96cd6564-91f7-4efd-b6f2-1609272c98a6 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/19482f59-55c9-4364-9715-78b9868309c0 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/9f6fba2c-5374-498d-8736-1104aff35887 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/2573d60b-2241-49b3-8d30-e925d0ade224 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/4eccd5a8-20e6-4193-a96a-38a70ce82dfb width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/ba0f3563-e408-47cc-8e5a-828175535d6d width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/e252f45c-b6d0-40b3-9b49-c6557fc537dc width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/b8f4caf3-c628-4e56-8918-9b985c763f2c width=150 height=330>|



### 🗺️ 지도
|장소 검색|현재 지도에서 탐색|클러스터링|베이커리 상세화면|리뷰|전화걸기|
|------|---|---|---|---|---|
|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/8b5df093-7d15-4332-b8ed-0c0b53396220 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/6b4d7871-8ffc-4d57-a912-9b31086d4061 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/1057ca4b-50f7-4cee-a262-6b2d439377e3 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/90fc67ae-65f7-41c9-a048-7435ea5e6250 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/ee683cba-2564-4cee-9887-a2db2a1a9d95 width=150 height=330>|<img src=https://github.com/yuzzin0121/SweetLog/assets/77273340/80f0749a-9aec-4be7-a488-94547a01d9e2 width=150 height=330>|

<br>


## 주요 기술
**Framework** - UIKit
**Pattern** - Router / Delegate / Singleton / MVVM <br>
**Network** - Alamofire / Codable <br>
**ReactiveProgramming** - RxSwift / RxDataSources <br>
**Code-Based UI** - SnapKit / CompositionalLayout / MapKit <br>
**OpenSource** - TabMan, FloatingPanel, Kingfisher, Toast <br>
**Etc** - iamport-iOS
<br><br>

## 핵심 구현

### MVVM 
- MVVM 디자인 패턴을 적용하여 뷰와 비즈니스 로직을 분리
- Input / Output 패턴을 활용해 뷰모델의 입력과 출력을 명확하게 분리
- protocol을 통해 ViewModel에서 사용되는 기본 구현을 제공

### Alamofire
- Alamofire에 Router 패턴과 Generic을 통해 네트워크 통신의 구조화 및 확장성 있는 네트워킹 구현
- Alamofire RequestInterceptor를 활용한 accessToken 갱신 구현 JWT
- multipart-form을 활용해 이미지를 서버에 전송

### RxSwift
- RxSwift을 활용하여 반응적인 비동기 처리 구현
- 네트워크 요청에 대한 응답을 Single<Result<>> 타입으로 반환함으로써 명시적이고 간결하게 상태 처리

### RxDataSource
- RxDataSource를 활용하여 유연하고 확장 가능한 데이터 관리 구성
 <br><br>
### Etc
- ClusterAnnotationView를 구현하여 검색된 장소 클러스터링 구현
- CompositionalLayout을 통해 Self-Sizing Cell 구현
- url에 대한 메타데이터를 추출하여 LinkPresentation으로 표현
- 후기 조회, 태그 검색에서 커서 기반 페이지네이션을 적용하여 뷰에 보여지는 만큼의 리소스만 요청
- 공통적인 디자인의 뷰를 재사용하기 위해 커스텀 뷰로 구성
- 이미지 및 컬러 등 반복적으로 사용되는 에셋을 enum을 통해 네임스페이스화하여 관리
- NotificationCenter를 활용해 다른 계층에 있는 뷰에 데이터 갱신
- protocol을 구현하여 셀에 공통적으로 사용되는 identifier, ViewModel에 Input-Output 패턴을 를 사용하도록 구성
- NetworkMonitor를 통해 네트워크 단절 상황 대응

### 결제
- PG 결제 시스템 연동 및 영수증 검증 로직 구현

<br><br>

## 트러블 슈팅
1. **셀 재사용 시 이미지가 다른 포스트의 이미지로 나오는 문제**
- imageStackView = UIStackView가 아닌 서브뷰를 제거하여 해결
```
 override func prepareForReuse() {
	super.prepareForReuse()
	imageStackView.arrangedSubviews.forEach {
	  $0.removeFromSuperview()
	}
}
```
<br><br>

2. **Sever와 통신하면서 발생하는 공통적인 에러에 대한 처리**
- enum에 `LocalizedError` 프로토콜을 채택하여 각 상태 코드에 errorDescription을 정의
  → print(”에러 메시지”) 가 아닌 ```print(error.localizedDescription)```으로 에러 문구를 출력
  <br><br>
<Image src="https://github.com/yuzzin0121/SweetLog/assets/77273340/0dd178b7-7ae5-4bee-871f-76c61c944027" width=400 height=500></Image>
